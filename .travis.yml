language: go
sudo: false
go:
- 1.5
before_install:
- npm install
- pip install --user ruamel.yaml
script:
- "./codecheck.sh -u"
- npm test
- go test ./...
- cd acceptance && go test -tags acceptance && cd ..
branches:
  only:
  - master
  - production
before_deploy:
- export BUILD_INFO=build-$TRAVIS_BRANCH-$(date -u "+%Y-%m-%d-%H-%M-%S")-$TRAVIS_BUILD_NUMBER
- python travis-vars-to-manifest.py
deploy:
  edge: true
  provider: cloudfoundry
  manifest: manifest-$TRAVIS_BRANCH.yml
  on:
    branch:
    - master
    - production
  api: https://api.18f.gov
  organization: sandbox
  space: jamesc.scott
  password:
    secure: X3RYcEmqfbUp67dLfS1UOxGZTRC1XsiBxQ4OjE2sxNuAkm0TvTKDgUJMUjns20LA7TdtTXakTPoXEeoI/B3iGeYamiuv9oNEw36h6Mqg1LRQi+60bfE3Iz60uksK8DedKTJZT+S9RWnW3lvvmaeFMjPDXtO2o6zGQz3AwlDjh6H+67sv6a7o7hExFFmnB4kuDkozC/267oVKl79HJp1Tt9NCuksy3ZV+zJHjlZIFB+6L6Aips1ESeg/FXb3bzc/BCJU235s1sMTDu15/cZrDzTXkvGqlknTt8/mehNQEK4pvREjkxntpuwgUDRz0kb/BaCkXf0x4K583gowHlsHHuu6JO4I6/Qba0jcxipw2fr/SP3l5E69jrMBnPz5/sWBtsSnkpMlwUKj7WNH1H1aqJaiwpiO3KtdiBqF2SV3+1m/Ocgi92gqpezmX0y/dhAZ5kVeVmxp4ltu7j5yig1/MsVYHD2p+UpvcZK+59bi5D3QPo84OeTFsuM4VCNtSYoJLRsW/c+YChrWWkM5+8ri/WME5O8ZrFGjR2jEtPx1EXmFjknFdwuc/6b0yzH9FCkAAgCcTm14yObs22FVn41b0S4TFag3BL6/9yScMXjzfWEoLIMcy8UXimlAkd2mn3Xtp50liq/OX0Mftwh5yIgsGVfAGOOFz7NJC8M46JFt+wTY=
  username:
    secure: cGL9UtamTtcxurEY1/YM6moIaNZA1IqWeXN7Ah4ioOHr80IPHnsADtbo4M6tnx+D8Xv/zzJ5LH2JSITnRIDyVVsuArlQNjN3xfAsRZ8aZm31O6CafUKpCvz1qsJqbshS/N1kX6ywEDblpxd9MYaGbtIps+4lKBcVJEJy/Al0e3Lp38QFxdFnlsuk+oIUdaLq2eCOYa1wvlXPnPiIUDMIMdreJJZtRPj5eHed/foM1IOr+yJMXFu0V+5N/NJS7wnPD49PtlvbgjCx5h5Vi4VNEwJvEcY8Mfp0eh7A8ENn6YSW57210lMRHDx0OHmvKHo66qbt0RHyY0wPOgv5lnwFIfr/kUPM6HaX+RDUc/qgzs3FhZLbZGezMqV3zlff0W6OiVI/eibTWNle7l0uyQ/FDxtm08kZgqDVSRPfWqew6xQSlHcNAcuPDbd/utu5lq3yE8PWUcPy07Qf1I9xP+Mk5HcBnbZ6NQwH42tElJhgN9IFS0F0J1T8h22yAieLjA0yZf55ZS425K1IqcN2x+jGV6XE17SCrra8uFYw9XCzLJ17ElOb2uXS6alEX/sz4iXRYvbZpMN/FRyUWGmatV5EOw14teNSCtyEyvEYoKfg9ixsl/iDP45H77LG6VpSvZ+yktx41oFrp8MPBMImULZ4jhuHv2+LinXQSpu7HMFPZw4=
env:
  global:
  - secure: xn/EXShpj51D9TTQgwrOj5H3c7gr41i+KnoOesfJDc1twY4reS8bWIBZU1zq2xaMsA8sus97Byk5MSXKifIzO5Gk6nyKzBo1z0HIXhpAVBy8RwNpLvUZrjrtz/24FmeQWs7McIfPZ92UWsGTI0BGVsSbIeAzeAkwIXb0/M1HUG4r7wgEOF+dlr3pYOtQBJ45wsst+n1RzUbWyHP7UPCcNHSrI7Q1y4odtK0MLMIozWBm5TbhpJnN4ylQCVPg2077Bsb5emg0G1K2Gfplhzvsu2+1BOekBHBsA4MJIPA1Y4dB2rkHeRvWgIyjg+w+wDyq0Kd4yP5Kku/N1U2b1llaOOLNABGYmfkteFgugHv73xfPoN2uLRIrWOpxywp+r/7qVDO8s5ZjjAGQfnFql53JBxD7/eAKH4sqaR5uW1uSpwpAmjaNAa7wcmgFKi0nyFovIBgbTH37M8nSDIS6/YfYYRiGMQA3piiUvBqVFpguSDrgup8/O8KsMn2SfPLvk7GG5bb8JOO0dWzXFuq1CWSzU4cIvcYfVkwmOKjpvKXYX1ebZz3T7i+ZL1fijQKFMlzpQGNPqHZJ/QwjH45G+Nw8Cz4waxP8l4C4ros5rIgR6CdYoRqfrhGMODum/JmoChM85hVbZbRw0AMJ+mRgprqDkru1AGSeBrxxSnwmX6eS0bs=
  - secure: GJ6iBRZ0NAw9d/RxA0BjyIRawDYUd5oVPRSEvmRWzxjw+eghBCKgp/K3RW7D6hbKUJTJ/A95Tm1cy74OgUffMkD5q5I6AJaf0LHp5rNSVP5Izu0ewbh95UE6WbFhytJjLu0Qsl0uW9v5/omG4Qm7odvvnWGO8yGDJpAbO+rMG1I09puy8n5QNESuUX0pwJKsQ1E/3uHwPfhFUacKl0bFHIEM8hLA9FWV5pl5p+cbx3fAU4U6hajB9Pur9zlRWb88nFOjrDE86RpA6Ihcu6qWERmOz441NWinUfGoLZruWp4YVhErZVp2KcOpMWyl5ObQ8Bu8JWyT9tGInyI9KPO+b5UI7i1jUkRJyQT2/snRdWcvYMWPe7gyQMz8VIogR/UUGOCBUGFm2+N03cb+UV8NxfSuR7IruX+8fWw0HvL02QYGWB1pTbebpdwn+V/ZO0+6DrOn62BVpxVqE8mNVS9Z2927GDsXRBA/C/KAHK6zaa1Vk5ADCDCFe3meysBp6BIWXKRDlnXgsomQzjAZ+Ri5us5zPWYQnIjvbJGUwXOpcFn7HiAQf0JzhvTb6s1F64Lr9yk82+rqtMSf5H3WW6yaJUirGtxlb1McD4BnsIH7F/C0ALJdZy35ZCKFhvFbGdsBeZGl6AYIuNqKz3r5U6gYycrRQ+/lGftVVRUTk90gR8A=
  - secure: VH1vLpzLJaIVb/ZnGHsEjlNvtMEO60ReiPv4PNED9hnpKd9Rr+ozSJM5383hECgvzDv4LojaUASocojYQq+WaSA9PwO/YfPWfzkMuU7sA0aR6/TkoUYRXfZKjPrMLNYuR4OPRUxf/UxgO4dI0j0SWw6yaj+ULyT17MQhg5GktQANn5tf8cVmzQZhjJFzvtIRVQdsjp9IPmb7ZyWjWZ9x8YqeuIZjlcSvW5+BADNc/1aoUi9dFc9hdCz1P9RktqP95qWNSNTZX3yBCImFZNZFnRqo8sr98bcRGTQQTZTuqMdVtTjGLvIm6c2D3O6MfAFobV2LRoNYWIB7+cQ+K4J+aE9l71qiquGD7mCllX9bM16K5ercYIG0/ODJd3fJ0SzzxPi1WD0agCmCKPUG2Ejmba+sqhUe+PgnH5Ryc9ggthncK9EKt/Ax8UM20qtkzwQyB2W2sHetwjVcIBKfG9t0epk6w2vzgeHCip8h9LVrv8qlMo5uzhhVqiZUDzBDYZEU2O9kzrz9SNXxnu9RUnly3qC0PlWqjspBDPRoaCY7yZYeMfYB6kNN0kn4FsSfIOqO77ROzxUYUeLOG01L+FVD/YBHBiPs+/22bEZTjS//pHjTJow8lKjzZJ1h0c9dB9QZ9NGONFw25FVMZ3XecI1vaAnm2U1sd1gj2A6ahJPcVxo=
  - secure: PWMHaEwaCz7B1x+/CFDNXUmLZG19LlPXZ4chaC8Tdy6Gii6yRC9sRT7QA2Rpv4SrNydXmitmxNujeeBzkCBYgU2FA/Fk0qLjSLgl+hhvRLbIvaYLJZLlNRjoZ8yVA9QLV71l/LGy+hwk0CyisBO2JUKPUj4DlO05qmlZU75qu/u9S6IL4BLnPNbCdM5FPbPBFDQkPxzgMM/v5IW0bQXFCaLh8CI1eAc3LUHcVzUFDr2Ry0ZcvVhImKdugTXrTCIntq9noYabBMfbAOChX+0nV251eFat+g2guwE69IaQfHziUGOskgmCaEEEWZzxAyMqQMnBEgA+ymcbwVxUE+22D21cbjn1YKpf3FP3nHol6YZM0kIeWOQ670G8fv+nUII9PPr8rMjmjc7drN1ukiRL3Tg4Z1ZEnRrKriad6swhY8sG/gy7/vUUnb4m7jTsmTWfR2ZUNHRKuCg0nOkOfcqZcLWDM2kay/3Tccjl3bFHPrIKTj0GEpgs14nqVsEnmkiW6zWZZOoWOlokMRysIwsItxwkpro/cq5ts5bBTjj9LBZJol9lnPVWUACduKm1TsAYYPEDCsrWETwHOFP4t0r4q2EPhpF6Y+krzYzRXCir8dF6Xf+islmc7eiYd5gJRoZRyzD86i/5qSkdyHx+byNwgMopTb9+sdMyYiPrUdncAko=
  - secure: YwMvQ4FqbAjz6K/qtRJcSg06WgApHdsiNHQW+BfkygD0DIfVc578BkWDBkpnA1LvPnM1omJuPOnMivVMz8J++MJxpKvJYE/w8a+okxTDM3ES7PrgqnN9jtSNPgqZqVU76W/YqFWX/XQGrRf6lTsY6+12rnPpbyQg4q85LV74ru6GCtCN/NFibZlauJm2eU1K6uEjvooOsv6U9cRK7QMMYbjPdL0PqKEpY9Zo91tYYz1gB5Orcbg9eTQCbGRDhLIt2PZ+G3ws8B6FxKfc0DGt/QqHLrzzTdxSuzT2CsqZT6B13iP7pAGghsc5xUMaIR6OmpU4XdQt30x/wtrzrm4iGIZrZKzNRVIM/h4Uohh08vAQ2XuHKjq6o+g6QXWvAOGOuHcLao1LR10wrQlFs3A9N4xcdjWt2l4W+U+xtC1JtZPfmjk3wPKjXHNCFEGkphY1+QBCXCdrX4haP5ktGMypHnKgac8jKGS/DIyposbyZjA+ib3yN4/3GGP/CfelpQ2y56X81BUQqX6EgT7NOQPMizX7H5asaY+WeHmCoKvxgukuYur7K3HI7jbF21mdL3h0U/2o55Bk0DNIM5qqIJVnRBWm0e14ijcF9C4CT2k0/SGHtILt7wX+1Npba169+aGciVw+Ai3hPzxT8uswDUGzNA9lBaLWUzRTAlnaWljPH28=
  - secure: JqzE4ugmAPeR+ilxRTn1ww0Df130YmBZKwPmAtsVTVztZpwZR4rzw2Gw6bMiPJ+fRnH/jYxTqic1tKWKIqmgqeZXrjmN2ChiSSi87rouZ1kk9PINwr4PAu1eO+fGL5l+23zDNPx8kYM8QZkJTVhSbt+jG/z3Wx1qqmSHLey9lEngoLGLiDAfQV18LDpC/QWNOnIaUgIcjvEmoZbvqWVmlKETSmccx/ojKrESaTKu2qRxu0PtF94lMB/v/O5kI8DY6OjuQjy6KK6X7dk8aoZ9OHSu0IM1V9EkWdh77PQwxTuGUuUBQmC6h2Xol9BhTZmDICZhGa7A0E6tQ+oMcnwnWEFAU1B1ZeXhw3dS7HmAHWJW6rNr3CtwzkxfWnGLbunEouV27Idf6JLgtnOtpvyzoBRJkU3Ous83nU3f5RtZvHzz0w8pmR9dOC6J3U4x9nmy1JRn6uubCurxXMkL6pg3Uo2CERe4elvK5bL+lb9ZyXosFn2GcjHQq9zohKp7vs5u0+N1jiq7f10mkVZ2NaqD15D2r+Yz9l5DnWjYowIG5Ba3T6bHIHLx7jOWqQTCYmNaqh6YSud4zqaaTy9czC68An1ruXsV3D/cRRoxDqMEGr4R9wQqJG4jDre0Yd2YvYrj776c/8thvWk3uBmZL3+Y91/YXf0cnCoDsrgmRUwaG9s=
  - secure: oqoQSr6gbt/CRMg43Sw+Gfrf2J+fgIXSyAC5il1KwqcsLMbE/ELq+3L2V+3jKF4s/YzIRcEIljv6x8ZxZxKPBk9rmQRAh7cYSrSm1Fqr4R5TgGtHuFQ7tZQbtFBAi/BmYcFn+AxacM7AX1aSoUcMfqZiYN7g5obS1D7RQrHBq20GVDQjbrsh7VuLI+MjKaIQ75oakChzjbkkp9G1nMo8dnKqQBPK3qI99yp/YN7TzEfTS8lYYa/gHIm1vvKjwD1OL3MhNc380B1j59JCRLdw/Um+fQEa+k/65lA8SEBvBAYa1UOmi+ocrJJ4FOxmS5x+IAA6kF0LsWZe3KDqLS/SDJJ9Vgs54gjbF/hL1sGnQVOGEdO1YiDSkWd5BvQOX0vKVm9TUwNKeVd7D2fxPRa3rR11M6UnIMF3mCzsZau9C6+2sg6gFHCtpr8ejnXSa0PLFomZJ0m5Cwlf3SKtO4Zck3ZeKSoeDv0Kt8kvCzkvgUVRQwF4Z36PMpIHNXZTjqxje2mdyf9oq+rtfM6MSlOK7pJBXc5pc0yWXgv6ccalizW581Ehm4gzhDhA7WxEY8xefeF83PNnpFp/s2l/++Gef5+0HaP7tnAAZw9Yl+qQl0LCca0IdkCZwgtj0ISk0q/wHB91GsuiYmM1h2rs5xdj1Vk/C1nTGJuxIvJYDiy3dRk=
  - secure: Ibsz3MF0Df7oi43caATtE2q5uQt2pKLYZRGE9J0fIbTtNEl4tUrv7H4IqRYCR7CQU6h/rWET2sp19hLBBLg1fNLjEJf+R5WXWkAwf5n/2PPsBOcN0TnsItsD9CZ2jvaS95UIdNTKOyifIF5bArpS113ORkf/50yK676sYn+Q7KHHq/eDY65vX9LLdJQmjsEN1D4lrKcoUSNnDPyuhXFAlac3bpb7qf/N0m0dFU4uMuZAJb6aidAOo/xRcPRW5xmalogNtGehHco7FLLw8LCMLHNkYRrGdd085ELznBjhWWgt2C8Ut0lR1K3I1B+Einh5xtu6z1kjsriSAs0ASRHWCl86e9FwcY+SPtKyxSjYoLqSpF4vO9oeWVigO2gCUDaMqqDZUrbgwa9jUXE3k+kHfcDXFxdj3x3Zlw5mLc5Ho8qW10J/OHGg+ZRy0Enl3mA7ndH/S8xKz9zhgkalv44KjZTkWsRGnoK0fDp/cqrpcTj7YTXDSxfdWYEOHUaZ9Vwl12WRhzNZ+z3RXMoZl2BAqZCtxPcOPT0QACCc3Bq0liIG6e0UkWiD+rJhisSx1zHelq6PcycMlzAe1M9JhZGxDcqmuzTwv+4/e0Jy+uYm2q2pxv7HvTI46QfdeANXlLUNJUxaCy7EquzLQ4+gf2xmCdJkQp9J6uRPnpFCOwIG43M=
  - secure: KvoQwjY3XnhH8Px6guaFUFoUItIDQCiCzuIXNr+cZv/yj3C9u7ZRGFRCIYc6wOb4gjvBswym01Genkw5bMrzG0JYl556mwZZwIs9rWvi9gjaitviFnGKObowaSyyRvqluK5J5qkmUc/EqDUXQ+T5IK9/w7nNtciADdc3n4Yik3sGBN3e9+kqG+x/uXVIW6TnL+HcV1EcgLW710APYmc162Se7//a1dcshDolAxvdJBAsM5GeTfvVOgXvEFm7adyWFbchfy5/5KQbIfXrk68j5LEZueK89S0PEAqxdbqvfJz0I62horbOJw8P7nKlWYzboAFmCTdOcHG1YlAMByKBRyo4t4eSWbnjkMuenYBEErQmyOs9lxLMzi4LrabTIo79T30O3xK+3+9uSbB+wiM4CSP2Nh2Ne/0heFxH11ZMS+L7S7hv1VY0A8iSpDqA5Hhc74o7UCDGvJEue5ar203jUQuiqahU6KCrwUdvrbJMnwQfXvVZ8eSfG4Hiz/4ZqllbY38rhbflV51drFHvxBQSYvvUSFFyWa1OfkAep1swMke4L2nn8g6MynU6GPTG0D3pkX08GMCcXXSha9XxxUUs3acUpNHp30uPC3MVWOWeHO6Eknmdsp3up1iO5oquBcFCFPwa/a/ui1Uxps+n8zBVdCXBjk+otW8vh0UN6u28Nsc=
